  <body>
    <script>
    
// Promise.all api takes array of promises 
// and returns array of results that is resolved when all promises are resolved  [wait for all promises to resolve]
// and rejected when any promise is rejected. [throw exception if any promise is rejected]

const p1 = new Promise((resolve, reject) => {
  setTimeout(() => resolve("P1 success"), 3000);
})

const p2 = new Promise((resolve, reject) => {
  setTimeout(() => resolve("P1 success"), 1000);
})

const p3 = new Promise((resolve, reject) => {
  setTimeout(() => resolve("P1 success"), 2000);
})

const p4 = new Promise((resolve, reject) => {
  setTimeout(() => reject("P4 fail"), 2000);
})

// without rejected promise
Promise.all([p1, p2, p3])
.then(res => {
  console.log(res)
})
// [ "P1 success", "P1 success", "P1 success" ]

// with rejected promise
Promise.all([p1, p2, p3, p4])
.then(res => {
  console.log(res)
})
.catch(err => {
  console.error(err)
})
// P4 fail
    
    </script>
  </body>